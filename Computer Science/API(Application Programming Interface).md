당신은 사용자의 데이터를 받아와 유저친화적인 Project를 하기로 마음 먹었다.

그러면 데이터를 생산하는 유저가 필요하고, 유저와 소통하기 위한 통신규약이 존재할 것이다.

보통 통신규약을 프로토콜이라 부르며, web에서 가장 유명한 프로토콜이 바로 HTTP이다.

당신이 HTTP라는 통신규약을 사용하기로 다짐했지만, 상대방이 HTTP를 통해 통신을 하지 않게 되면 어떻게 될까?

직감적으로 안된다는 느낌을 받을 것이지만, 정확한 설명은 불가능할 것이다.

결론적으로 중간에 게이트웨이와 같이 데이터를 수정해주는 작업이 존재하지 않으면 불가능하다.

그렇기에 두 소프트웨어가 서로 데이터를 주고 받는 규칙이 필요할 것이고, 이를 우리는 *API*라고 한다.

---
# API의 정의
AWS의 공식 사이트에 정의된 API는 정의 및 프로토콜 집합을 사용하여 두 소프트웨어 구성 요소가 서로 통신할 수 있게 하는 메커니즘이라고 설명되어 있다.

앞선 설명에 의하면 프로토콜 또한 통신 규칙이라고 말했는데, 둘은 약간의 차이가 존재한다.

- API : 두 소프트웨어가 무엇을 통신할지에 대한 규칙
- 프로토콜 : 두 소프트웨어가 어떻게 통신할지에 대한 규칙

즉, 무엇을 vs 어떻게 라고 보면 된다.

# API는 어떻게 작동하나요?

API 아키텍처는 일반적으로 클라이언트와 서버 측면에서 설명됩니다. 요청을 보내는 애플리케이션을 클라이언트라고 하고 응답을 보내는 애플리케이션을 서버라고 합니다. 따라서 날씨 예에서 기상청의 날씨 데이터베이스는 서버이고 모바일 앱은 클라이언트입니다. 

API가 생성된 시기와 이유에 따라 API는 네 가지 방식으로 작동할 수 있습니다.

#### SOAP API 

이 API는 단순 객체 접근 프로토콜을 사용합니다. 클라이언트와 서버는 XML을 사용하여 메시지를 교환합니다. 과거에 더 많이 사용되었으며 유연성이 떨어지는 API입니다.

#### RPC API

이 API를 원격 프로시저 호출이라고 합니다. 클라이언트가 서버에서 함수나 프로시저를 완료하면 서버가 출력을 클라이언트로 다시 전송합니다.

#### Websocket API

[Websocket API](https://docs.aws.amazon.com/apigateway/latest/developerguide/apigateway-websocket-api-overview.html)는 JSON 객체를 사용하여 데이터를 전달하는 또 다른 최신 웹 API 개발입니다. WebSocket API는 클라이언트 앱과 서버 간의 양방향 통신을 지원합니다. 서버가 연결된 클라이언트에 콜백 메시지를 전송할 수 있어 REST API보다 효율적입니다.

#### REST API

오늘날 웹에서 볼 수 있는 가장 많이 사용되고 유연한 API입니다. 클라이언트가 서버에 요청을 데이터로 전송합니다. 서버가 이 클라이언트 입력을 사용하여 내부 함수를 시작하고 출력 데이터를 다시 클라이언트에 반환합니다. 아래에서 REST API에 대해 더 자세히 살펴보겠습니다.

AWS에서 설명하는 API의 동작원리이지만, REST API만 제대로 알아도 큰 문제가 없을 것 같다.
REST API에 대한 설명은 [[Spring boot]]에 자세히 설명되어 있으니 참고 바란다.